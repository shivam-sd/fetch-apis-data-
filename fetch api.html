<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<h1>fetch api</h1>

<script>

// let p = fetch("http://api.weatherapi.com/v1/current.json?key=163f854921da4622b6384132241404&q=india&aqi=yes");
// console.log(p);

// p.then((value) => {
//     console.log(value.status);
//     console.log(value.ok);
//     // console.log(value.json());
//     return value.json();
// }).then((value) => {
//     console.log(value);
// })


// function getdata() {
//     return new Promise((resolve,reject) => {
//         setTimeout(() => {
//             resolve(455);
//         },2000)
//     })
// }

// async function getdata() {
//     let x = await fetch('https://jsonplaceholder.typicode.com/todos/1');
//     let data = await x.json();
//     console.log(data);

    //   .then(response => response.json())
//     //   .then(json => console.log(json))
// }


// let data = getdata();
// console.log(data);

// async function fetchdata(){
//     let ans = await fetch("http://api.weatherapi.com/v1/current.json?key=163f854921da4622b6384132241404&q=London&aqi=yes");
//     let data = await ans.json();
//     // console.log(data);
//     return data;
// }
// async function main(){
// let data = await fetchdata();
// console.log(data);
// }
// main();


const h1 = document.querySelector("h1");
const btn = document.createElement("button");

btn.innerText = "search";
document.body.appendChild(btn);

btn.addEventListener("click", async() => {
    let data = await datalao();
    console.log(data);
    h1.innerText = `${data.location.name} , ${data.location.country}`;
})

async function datalao(){
    let aagya = await fetch("http://api.weatherapi.com/v1/current.json?key=163f854921da4622b6384132241404&q=London&aqi=yes");
    console.log(aagya.status);
    return await aagya.json();

}

// async function mainwala(){
// let data = await datalao();
// console.log(data);
// }

// mainwala();


</script>
    
</body>
</html>